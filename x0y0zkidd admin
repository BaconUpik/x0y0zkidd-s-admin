local plr = game:GetService("Players")
local me  = plr.LocalPlayer
local char = me.Character
local hum = char:WaitForChild("Humanoid")
local hrp = char:WaitForChild("HumanoidRootPart")

local work = game:GetService("Workspace")
local run = game:GetService("RunService")
local uis = game:GetService("UserInputService")
local virtual = game:GetService("VirtualInputManager")
local rep = game:GetService("ReplicatedStorage")
local textChat = game:GetService("TextChatService")
local guiService = game:GetService("GuiService")
local starterGui = game:GetService("StarterGui")
local light = game:GetService("Lighting")
local tpSerice = game:GetService("TeleportService")

local mouse = me:GetMouse()
local camera = work.CurrentCamera

local function update()
	char = me.Character
	hum = char:WaitForChild("Humanoid")
	hrp = char:WaitForChild("HumanoidRootPart")
end

me.CharacterAdded:Connect(update)

if me.Character then
	update()
end

local screen  = Instance.new("ScreenGui")
screen.Parent = me.PlayerGui
screen.Name   = "Gui"
screen.ResetOnSpawn = false

local frame    = Instance.new("Frame")
frame.Parent   = screen
frame.Size     = UDim2.new(0,250,0,250)
frame.Position = UDim2.new(0,15,0,380)
frame.Active     = true

local btn    = Instance.new("TextButton")
btn.Parent   = frame
btn.Size     = UDim2.new(0,25,0,25)
btn.Position = UDim2.new(0,225,0,0)
btn.Text     = "X"
btn.TextSize = 12

local text             = Instance.new("TextBox")
text.Parent            = frame
text.Size              = UDim2.new(0,80,0,35)
text.Position          = UDim2.new(0,90,0,80)
text.Text              = ""
text.BackgroundTransparency = 1
text.PlaceholderText   = "Username"
text.PlaceholderColor3 = Color3.fromRGB(70,70,70)
text.TextSize          = 12

local label             = Instance.new("TextLabel")
label.Parent            = frame
label.Size              = UDim2.new(0,100,0,15)
label.Position          = UDim2.new(0,80,0,45)
label.BorderSizePixel = 0
label.Text              = "RC Clone Players"
label.TextSize          = 14

local btn2    = Instance.new("TextButton")
btn2.Parent   = frame
btn2.Size     = UDim2.new(0,80,0,35)
btn2.Position = UDim2.new(0,30,0,140)
btn2.Text     = "Start"
btn2.TextSize = 12

local btn3    = Instance.new("TextButton")
btn3.Parent   = frame
btn3.Size     = UDim2.new(0,80,0,35)
btn3.Position = UDim2.new(0,150,0,140)
btn3.Text     = "Stop"
btn3.TextSize = 12

local dragging = false
local dragStart
local startPos

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

uis.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		frame.Position = startPos + UDim2.new(0,delta.X,0,delta.Y)
	end
end)

btn.MouseButton1Click:Connect(function()
	screen:Destroy()
end)

btn2.MouseButton1Click:Connect(function()
	for _, allTextBoxes in ipairs(screen:GetDescendants()) do
		if allTextBoxes:IsA("TextButton") then
			allTextBoxes.ZIndex = 2
			allTextBoxes.BackgroundTransparency = 1
			
				local uiFrame = Instance.new("Frame")
				uiFrame.Parent = allTextBoxes
				uiFrame.ZIndex = 1
				uiFrame.BorderSizePixel = 0
				uiFrame.BackgroundColor3 = Color3.fromRGB(255,0,0)
				uiFrame.Size = UDim2.new(1,0,1,0)
			
		end
	end
end)

btn3.MouseButton1Click:Connect(function()

end)

screen.Parent = game:GetService("CoreGui")
